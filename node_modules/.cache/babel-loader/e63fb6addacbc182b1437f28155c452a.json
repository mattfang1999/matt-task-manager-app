{"ast":null,"code":"import _toConsumableArray from\"/Users/matthewfang1999/Documents/CMU/F20/PUI/HW8/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/matthewfang1999/Documents/CMU/F20/PUI/HW8/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState}from'react';import{FaTrashAlt}from'react-icons/fa';import{useProjectsValue,useSelectedProjectValue}from'../context';import{firebase}from'../firebase';export var IndividualProject=function IndividualProject(_ref){var project=_ref.project;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showConfirm=_useState2[0],setShowConfirm=_useState2[1];var _useProjectsValue=useProjectsValue(),projects=_useProjectsValue.projects,setProjects=_useProjectsValue.setProjects;var _useSelectedProjectVa=useSelectedProjectValue(),setSelectedProject=_useSelectedProjectVa.setSelectedProject;var deleteProject=function deleteProject(docId){firebase.firestore().collection('projects').doc(docId).delete().then(function(){setProjects(_toConsumableArray(projects));setSelectedProject('INBOX');});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"sidebar__dot\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sidebar__project-name\",children:project.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"sidebar__project-delete\",\"data-testid\":\"delete-project\",onClick:function onClick(){return setShowConfirm(!showConfirm);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShowConfirm(!showConfirm);},tabIndex:0,role:\"button\",\"aria-label\":\"Confirm deletion of project\",children:[/*#__PURE__*/_jsx(FaTrashAlt,{}),showConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"project-delete-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"project-delete-modal__inner\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you want to delete this project?\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return deleteProject(project.docId);},children:\"Delete\"}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setShowConfirm(!showConfirm);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShowConfirm(!showConfirm);},tabIndex:0,role:\"button\",\"aria-label\":\"Cancel adding project, do not delete\",children:\"Cancel\"})]})})]})]});};","map":{"version":3,"sources":["/Users/matthewfang1999/Documents/CMU/F20/PUI/HW8/src/components/IndividualProject.js"],"names":["React","useState","FaTrashAlt","useProjectsValue","useSelectedProjectValue","firebase","IndividualProject","project","showConfirm","setShowConfirm","projects","setProjects","setSelectedProject","deleteProject","docId","firestore","collection","doc","delete","then","name","e","key"],"mappings":"meAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,gBAA3B,CAEA,OAASC,gBAAT,CAA2BC,uBAA3B,KAA0D,YAA1D,CACA,OAASC,QAAT,KAAyB,aAAzB,CAEA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACVN,QAAQ,CAAC,KAAD,CADE,wCACzCO,WADyC,eAC5BC,cAD4B,qCAEdN,gBAAgB,EAFF,CAExCO,QAFwC,mBAExCA,QAFwC,CAE9BC,WAF8B,mBAE9BA,WAF8B,2BAGjBP,uBAAuB,EAHN,CAGxCQ,kBAHwC,uBAGxCA,kBAHwC,CAKhD,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/BT,QAAQ,CACLU,SADH,GAEGC,UAFH,CAEc,UAFd,EAGGC,GAHH,CAGOH,KAHP,EAIGI,MAJH,GAKGC,IALH,CAKQ,UAAM,CACVR,WAAW,oBAAKD,QAAL,EAAX,CACAE,kBAAkB,CAAC,OAAD,CAAlB,CACD,CARH,EASD,CAVD,CAYA,mBACE,wCACE,aAAM,SAAS,CAAC,cAAhB,oBADF,cAEE,aAAM,SAAS,CAAC,uBAAhB,UAAyCL,OAAO,CAACa,IAAjD,EAFF,cAGE,cACE,SAAS,CAAC,yBADZ,CAEE,cAAY,gBAFd,CAGE,OAAO,CAAE,yBAAMX,CAAAA,cAAc,CAAC,CAACD,WAAF,CAApB,EAHX,CAIE,SAAS,CAAE,mBAACa,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACC,GAAF,GAAU,OAAd,CAAuBb,cAAc,CAAC,CAACD,WAAF,CAAd,CACxB,CANH,CAOE,QAAQ,CAAE,CAPZ,CAQE,IAAI,CAAC,QARP,CASE,aAAW,6BATb,wBAWE,KAAC,UAAD,IAXF,CAYGA,WAAW,eACV,YAAK,SAAS,CAAC,sBAAf,uBACE,aAAK,SAAS,CAAC,6BAAf,wBACE,oEADF,cAEE,eACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,yBAAMK,CAAAA,aAAa,CAACN,OAAO,CAACO,KAAT,CAAnB,EAFX,oBAFF,cAQE,aACE,OAAO,CAAE,yBAAML,CAAAA,cAAc,CAAC,CAACD,WAAF,CAApB,EADX,CAEE,SAAS,CAAE,mBAACa,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACC,GAAF,GAAU,OAAd,CAAuBb,cAAc,CAAC,CAACD,WAAF,CAAd,CACxB,CAJH,CAKE,QAAQ,CAAE,CALZ,CAME,IAAI,CAAC,QANP,CAOE,aAAW,sCAPb,oBARF,GADF,EAbJ,GAHF,GADF,CA2CD,CA5DM","sourcesContent":["import React, { useState } from 'react';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport PropTypes from 'prop-types';\nimport { useProjectsValue, useSelectedProjectValue } from '../context';\nimport { firebase } from '../firebase';\n\nexport const IndividualProject = ({ project }) => {\n  const [showConfirm, setShowConfirm] = useState(false);\n  const { projects, setProjects } = useProjectsValue();\n  const { setSelectedProject } = useSelectedProjectValue();\n\n  const deleteProject = (docId) => {\n    firebase\n      .firestore()\n      .collection('projects')\n      .doc(docId)\n      .delete()\n      .then(() => {\n        setProjects([...projects]);\n        setSelectedProject('INBOX');\n      });\n  };\n\n  return (\n    <>\n      <span className=\"sidebar__dot\">â€¢</span>\n      <span className=\"sidebar__project-name\">{project.name}</span>\n      <span\n        className=\"sidebar__project-delete\"\n        data-testid=\"delete-project\"\n        onClick={() => setShowConfirm(!showConfirm)}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter') setShowConfirm(!showConfirm);\n        }}\n        tabIndex={0}\n        role=\"button\"\n        aria-label=\"Confirm deletion of project\"\n      >\n        <FaTrashAlt />\n        {showConfirm && (\n          <div className=\"project-delete-modal\">\n            <div className=\"project-delete-modal__inner\">\n              <p>Are you sure you want to delete this project?</p>\n              <button\n                type=\"button\"\n                onClick={() => deleteProject(project.docId)}\n              >\n                Delete\n              </button>\n              <span\n                onClick={() => setShowConfirm(!showConfirm)}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') setShowConfirm(!showConfirm);\n                }}\n                tabIndex={0}\n                role=\"button\"\n                aria-label=\"Cancel adding project, do not delete\"\n              >\n                Cancel\n              </span>\n            </div>\n          </div>\n        )}\n      </span>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}