{"ast":null,"code":"import _toConsumableArray from\"/Users/matthewfang1999/Documents/CMU/F20/PUI/HW8/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/matthewfang1999/Documents/CMU/F20/PUI/HW8/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import{firebase}from'../firebase';import{generatePushId}from'../helpers';import{useProjectsValue}from'../context';export var AddProject=function AddProject(_ref){var _ref$shouldShow=_ref.shouldShow,shouldShow=_ref$shouldShow===void 0?false:_ref$shouldShow;var _useState=useState(shouldShow),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),projectName=_useState4[0],setProjectName=_useState4[1];var projectId=generatePushId();var _useProjectsValue=useProjectsValue(),projects=_useProjectsValue.projects,setProjects=_useProjectsValue.setProjects;var addProject=function addProject(){return projectName&&firebase.firestore().collection('projects').add({projectId:projectId,name:projectName,userId:'nfeCumoN'}).then(function(){setProjects(_toConsumableArray(projects));setProjectName('');setShow(false);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"add-project\",children:[show&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-project__input\",children:[/*#__PURE__*/_jsx(\"input\",{value:projectName,onChange:function onChange(e){return setProjectName(e.target.value);},className:\"add-project__name\",type:\"text\",placeholder:\"Name your project\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-project__submit\",type:\"button\",onClick:function onClick(){return addProject();},children:\"Add Project\"}),/*#__PURE__*/_jsx(\"span\",{className:\"add-project__cancel\",onClick:function onClick(){return setShow(false);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShow(false);},role:\"button\",tabIndex:0,children:\"Cancel\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"add-project__plus\",children:\"+\"}),/*#__PURE__*/_jsx(\"span\",{\"aria-label\":\"Add Project\",className:\"add-project__text\",onClick:function onClick(){return setShow(!show);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShow(!show);},role:\"button\",tabIndex:0,children:\"Add Project\"})]});};","map":{"version":3,"sources":["/Users/matthewfang1999/Documents/CMU/F20/PUI/HW8/src/components/AddProject.js"],"names":["React","useState","firebase","generatePushId","useProjectsValue","AddProject","shouldShow","show","setShow","projectName","setProjectName","projectId","projects","setProjects","addProject","firestore","collection","add","name","userId","then","e","target","value","key"],"mappings":"8aAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,cAAT,KAA+B,YAA/B,CACA,OAASC,gBAAT,KAAiC,YAAjC,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAA4B,0BAAzBC,UAAyB,CAAzBA,UAAyB,0BAAZ,KAAY,+BAC5BL,QAAQ,CAACK,UAAD,CADoB,wCAC7CC,IAD6C,eACvCC,OADuC,8BAEdP,QAAQ,CAAC,EAAD,CAFM,yCAE7CQ,WAF6C,eAEhCC,cAFgC,eAIpD,GAAMC,CAAAA,SAAS,CAAGR,cAAc,EAAhC,CAJoD,sBAKlBC,gBAAgB,EALE,CAK5CQ,QAL4C,mBAK5CA,QAL4C,CAKlCC,WALkC,mBAKlCA,WALkC,CAOpD,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SACjBL,CAAAA,WAAW,EACXP,QAAQ,CACLa,SADH,GAEGC,UAFH,CAEc,UAFd,EAGGC,GAHH,CAGO,CACHN,SAAS,CAATA,SADG,CAEHO,IAAI,CAAET,WAFH,CAGHU,MAAM,CAAE,UAHL,CAHP,EAQGC,IARH,CAQQ,UAAM,CACVP,WAAW,oBAAKD,QAAL,EAAX,CACAF,cAAc,CAAC,EAAD,CAAd,CACAF,OAAO,CAAC,KAAD,CAAP,CACD,CAZH,CAFiB,EAAnB,CAgBA,mBACE,aAAK,SAAS,CAAC,aAAf,WACGD,IAAI,eACH,aAAK,SAAS,CAAC,oBAAf,wBACE,cACE,KAAK,CAAEE,WADT,CAEE,QAAQ,CAAE,kBAACY,CAAD,QAAOX,CAAAA,cAAc,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAFZ,CAGE,SAAS,CAAC,mBAHZ,CAIE,IAAI,CAAC,MAJP,CAKE,WAAW,CAAC,mBALd,EADF,cAQE,eACE,SAAS,CAAC,qBADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,yBAAMT,CAAAA,UAAU,EAAhB,EAHX,yBARF,cAgBE,aACE,SAAS,CAAC,qBADZ,CAEE,OAAO,CAAE,yBAAMN,CAAAA,OAAO,CAAC,KAAD,CAAb,EAFX,CAGE,SAAS,CAAE,mBAACa,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACG,GAAF,GAAU,OAAd,CAAuBhB,OAAO,CAAC,KAAD,CAAP,CACxB,CALH,CAME,IAAI,CAAC,QANP,CAOE,QAAQ,CAAE,CAPZ,oBAhBF,GAFJ,cA+BE,aAAM,SAAS,CAAC,mBAAhB,eA/BF,cAgCE,aACE,aAAW,aADb,CAEE,SAAS,CAAC,mBAFZ,CAGE,OAAO,CAAE,yBAAMA,CAAAA,OAAO,CAAC,CAACD,IAAF,CAAb,EAHX,CAIE,SAAS,CAAE,mBAACc,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACG,GAAF,GAAU,OAAd,CAAuBhB,OAAO,CAAC,CAACD,IAAF,CAAP,CACxB,CANH,CAOE,IAAI,CAAC,QAPP,CAQE,QAAQ,CAAE,CARZ,yBAhCF,GADF,CA+CD,CAtEM","sourcesContent":["import React, { useState } from 'react';\nimport { firebase } from '../firebase';\nimport { generatePushId } from '../helpers';\nimport { useProjectsValue } from '../context';\n\nexport const AddProject = ({ shouldShow = false }) => {\n  const [show, setShow] = useState(shouldShow);\n  const [projectName, setProjectName] = useState('');\n\n  const projectId = generatePushId();\n  const { projects, setProjects } = useProjectsValue();\n\n  const addProject = () =>\n    projectName &&\n    firebase\n      .firestore()\n      .collection('projects')\n      .add({\n        projectId,\n        name: projectName,\n        userId: 'nfeCumoN',\n      })\n      .then(() => {\n        setProjects([...projects]);\n        setProjectName('');\n        setShow(false);\n      });\n\n  return (\n    <div className=\"add-project\" >\n      {show && (\n        <div className=\"add-project__input\" >\n          <input\n            value={projectName}\n            onChange={(e) => setProjectName(e.target.value)}\n            className=\"add-project__name\"\n            type=\"text\"\n            placeholder=\"Name your project\"\n          />\n          <button\n            className=\"add-project__submit\"\n            type=\"button\"\n            onClick={() => addProject()}\n            \n          >\n            Add Project\n          </button>\n          <span\n            className=\"add-project__cancel\"\n            onClick={() => setShow(false)}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter') setShow(false);\n            }}\n            role=\"button\"\n            tabIndex={0}\n          >\n            Cancel\n          </span>\n        </div>\n      )}\n      <span className=\"add-project__plus\">+</span>\n      <span\n        aria-label=\"Add Project\"\n        className=\"add-project__text\"\n        onClick={() => setShow(!show)}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter') setShow(!show);\n        }}\n        role=\"button\"\n        tabIndex={0}\n      >\n        Add Project\n      </span>\n    </div>\n  );\n};\n\n\n"]},"metadata":{},"sourceType":"module"}