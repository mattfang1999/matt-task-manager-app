{"ast":null,"code":"import _slicedToArray from\"/Users/matthewfang1999/Documents/CMU/F20/PUI/HW8/taskmanagerapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import{FaRegListAlt,FaRegCalendarAlt}from'react-icons/fa';import moment from'moment';import{firebase}from'../firebase';import{useSelectedProjectValue}from'../context';import{ProjectOverlay}from'./ProjectOverlay';import{TaskDate}from'./TaskDate';export var AddTask=function AddTask(_ref){var _ref$showAddTaskMain=_ref.showAddTaskMain,showAddTaskMain=_ref$showAddTaskMain===void 0?true:_ref$showAddTaskMain,_ref$shouldShowMain=_ref.shouldShowMain,shouldShowMain=_ref$shouldShowMain===void 0?false:_ref$shouldShowMain,showQuickAddTask=_ref.showQuickAddTask,setShowQuickAddTask=_ref.setShowQuickAddTask;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),task=_useState2[0],setTask=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),taskDate=_useState4[0],setTaskDate=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),project=_useState6[0],setProject=_useState6[1];var _useState7=useState(shouldShowMain),_useState8=_slicedToArray(_useState7,2),showMain=_useState8[0],setShowMain=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showProjectOverlay=_useState10[0],setShowProjectOverlay=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showTaskDate=_useState12[0],setShowTaskDate=_useState12[1];var _useSelectedProjectVa=useSelectedProjectValue(),selectedProject=_useSelectedProjectVa.selectedProject;var addTask=function addTask(){var projectId=project||selectedProject;var collatedDate='';if(projectId==='TODAY'){collatedDate=moment().format('DD/MM/YYYY');}else if(projectId==='NEXT_7'){collatedDate=moment().add(7,'days').format('DD/MM/YYYY');}return task&&projectId&&firebase.firestore().collection('tasks').add({archived:false,projectId:projectId,task:task,date:collatedDate||taskDate,userId:\"nfeCumoN\"}).then(function(){setTask('');setProject('');setShowMain('');setShowProjectOverlay(false);});};return/*#__PURE__*/_jsxs(\"div\",{className:showQuickAddTask?'add-task add-task__overlay':'add-task',\"data-testid\":\"add-task-comp\",children:[showAddTaskMain&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-task__shallow\",\"data-testid\":\"show-main-action\",onClick:function onClick(){return setShowMain(!showMain);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShowMain(!showMain);},tabIndex:0,\"aria-label\":\"Add task\",role:\"button\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-task__plus\",children:\"+\"}),/*#__PURE__*/_jsx(\"span\",{className:\"add-task__text\",children:\"Add Task\"})]}),(showMain||showQuickAddTask)&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-task__main\",children:[showQuickAddTask&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"header\",children:\"Quick Add Task\"}),/*#__PURE__*/_jsx(\"span\",{className:\"add-task__cancel-x\",\"aria-label\":\"Cancel adding task\",onClick:function onClick(){setShowMain(false);setShowProjectOverlay(false);setShowQuickAddTask(false);},onKeyDown:function onKeyDown(e){if(e.key==='Enter'){setShowMain(false);setShowProjectOverlay(false);setShowQuickAddTask(false);}},tabIndex:0,role:\"button\",children:\"X\"})]})}),/*#__PURE__*/_jsx(ProjectOverlay,{setProject:setProject,showProjectOverlay:showProjectOverlay,setShowProjectOverlay:setShowProjectOverlay}),/*#__PURE__*/_jsx(TaskDate,{setTaskDate:setTaskDate,showTaskDate:showTaskDate,setShowTaskDate:setShowTaskDate}),/*#__PURE__*/_jsx(\"input\",{className:\"add-task__content\",\"aria-label\":\"Enter your task\",type:\"text\",value:task,onChange:function onChange(e){return setTask(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"add-task__submit\",onClick:function onClick(){return showQuickAddTask?addTask()&&setShowQuickAddTask(false):addTask();},children:\"Add Task\"}),!showQuickAddTask&&/*#__PURE__*/_jsx(\"span\",{className:\"add-task__cancel\",onClick:function onClick(){setShowMain(false);setShowProjectOverlay(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"span\",{className:\"add-task__project\",onClick:function onClick(){return setShowProjectOverlay(!showProjectOverlay);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShowProjectOverlay(!showProjectOverlay);},tabIndex:0,role:\"button\",children:/*#__PURE__*/_jsx(FaRegListAlt,{})}),/*#__PURE__*/_jsx(\"span\",{className:\"add-task__date\",onClick:function onClick(){return setShowTaskDate(!showTaskDate);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')setShowTaskDate(!showTaskDate);},tabIndex:0,role:\"button\",children:/*#__PURE__*/_jsx(FaRegCalendarAlt,{})})]})]});};","map":{"version":3,"sources":["/Users/matthewfang1999/Documents/CMU/F20/PUI/HW8/taskmanagerapp/src/components/AddTask.js"],"names":["React","useState","FaRegListAlt","FaRegCalendarAlt","moment","firebase","useSelectedProjectValue","ProjectOverlay","TaskDate","AddTask","showAddTaskMain","shouldShowMain","showQuickAddTask","setShowQuickAddTask","task","setTask","taskDate","setTaskDate","project","setProject","showMain","setShowMain","showProjectOverlay","setShowProjectOverlay","showTaskDate","setShowTaskDate","selectedProject","addTask","projectId","collatedDate","format","add","firestore","collection","archived","date","userId","then","e","key","target","value"],"mappings":"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","sourcesContent":["\nimport React, { useState } from 'react';\nimport { FaRegListAlt, FaRegCalendarAlt } from 'react-icons/fa';\nimport moment from 'moment';\nimport { firebase } from '../firebase';\nimport { useSelectedProjectValue } from '../context';\nimport { ProjectOverlay } from './ProjectOverlay';\nimport { TaskDate } from './TaskDate';\n\n\nexport const AddTask = ({\n  showAddTaskMain = true,\n  shouldShowMain = false,\n  showQuickAddTask,\n  setShowQuickAddTask,\n}) => {\n  const [task, setTask] = useState('');\n  const [taskDate, setTaskDate] = useState('');\n  const [project, setProject] = useState('');\n  const [showMain, setShowMain] = useState(shouldShowMain);\n  const [showProjectOverlay, setShowProjectOverlay] = useState(false);\n  const [showTaskDate, setShowTaskDate] = useState(false);\n\n  const { selectedProject } = useSelectedProjectValue();\n\n  const addTask = () => {\n    const projectId = project || selectedProject;\n    let collatedDate = '';\n\n    if (projectId === 'TODAY') {\n      collatedDate = moment().format('DD/MM/YYYY');\n    } else if (projectId === 'NEXT_7') {\n      collatedDate = moment().add(7, 'days').format('DD/MM/YYYY');\n    }\n\n    return (\n      task &&\n      projectId &&\n      firebase\n        .firestore()\n        .collection('tasks')\n        .add({\n          archived: false,\n          projectId,\n          task,\n          date: collatedDate || taskDate,\n          userId: \"nfeCumoN\",\n        })\n        .then(() => {\n          setTask('');\n          setProject('');\n          setShowMain('');\n          setShowProjectOverlay(false);\n        })\n    );\n  };\n\n  return (\n    <div\n      className={showQuickAddTask ? 'add-task add-task__overlay' : 'add-task'}\n      data-testid=\"add-task-comp\"\n    >\n      {showAddTaskMain && (\n        <div\n          className=\"add-task__shallow\"\n          data-testid=\"show-main-action\"\n          onClick={() => setShowMain(!showMain)}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter') setShowMain(!showMain);\n          }}\n          tabIndex={0}\n          aria-label=\"Add task\"\n          role=\"button\"\n        >\n          <span className=\"add-task__plus\">+</span>\n          <span className=\"add-task__text\">Add Task</span>\n        </div>\n      )}\n\n      {(showMain || showQuickAddTask) && (\n        <div className=\"add-task__main\" >\n          {showQuickAddTask && (\n            <>\n              <div >\n                <h2 className=\"header\">Quick Add Task</h2>\n                <span\n                  className=\"add-task__cancel-x\"\n                  \n                  aria-label=\"Cancel adding task\"\n                  onClick={() => {\n                    setShowMain(false);\n                    setShowProjectOverlay(false);\n                    setShowQuickAddTask(false);\n                  }}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      setShowMain(false);\n                      setShowProjectOverlay(false);\n                      setShowQuickAddTask(false);\n                    }\n                  }}\n                  tabIndex={0}\n                  role=\"button\"\n                >\n                  X\n                </span>\n              </div>\n            </>\n          )}\n          \n          <ProjectOverlay\n            setProject={setProject}\n            showProjectOverlay={showProjectOverlay}\n            setShowProjectOverlay={setShowProjectOverlay}\n            />\n                  \n            <TaskDate\n            setTaskDate={setTaskDate}\n            showTaskDate={showTaskDate}\n            setShowTaskDate={setShowTaskDate}\n          />\n          <input\n            className=\"add-task__content\"\n            aria-label=\"Enter your task\"\n            type=\"text\"\n            value={task}\n            onChange={(e) => setTask(e.target.value)}\n          />\n          <button\n            type=\"button\"\n            className=\"add-task__submit\"\n            onClick={() => (showQuickAddTask ?  addTask() &&  setShowQuickAddTask(false) :  addTask()) }\n          >\n            Add Task\n          </button>\n          {!showQuickAddTask && (\n            <span\n              className=\"add-task__cancel\"\n              onClick={() => {\n                setShowMain(false);\n                setShowProjectOverlay(false);\n              }}\n            >\n              Cancel\n            </span>\n          )}\n          <span\n            className=\"add-task__project\"\n            onClick={() => setShowProjectOverlay(!showProjectOverlay)}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter') setShowProjectOverlay(!showProjectOverlay);\n            }}\n            tabIndex={0}\n            role=\"button\"\n          >\n            <FaRegListAlt />\n          </span>\n          <span\n            className=\"add-task__date\"\n            onClick={() => setShowTaskDate(!showTaskDate)}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter') setShowTaskDate(!showTaskDate);\n            }}\n            tabIndex={0}\n            role=\"button\"\n          >\n            <FaRegCalendarAlt />\n          </span>\n        </div>\n      )}\n    </div>\n  );\n};\n\n"]},"metadata":{},"sourceType":"module"}